<!DOCTYPE html>
<html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>2020-11-29T14:11:29+05:30</title><style>
html, body {
width: 100%;
height: 100%;
margin: 0;
padding: 0;
    font-size: 16px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
}

.content {
min-height: 100%;
margin: 20px 20px auto;
padding: 0 0 30px 40px;
    background-color: #fff;
    border-bottom: 1px solid rgba(34, 34, 34, 0.1);
    box-sizing: border-box;
}

h1 {
margin: 0;
padding: 40px 0 0;
color: rgba(34, 34, 34, 0.9);
    font-size: 2em;
    font-weight: bold;
    line-height: 125%;
    text-align: center;
}

h2 {
margin: 0;
padding: 42px 4px 0;
color: rgba(34, 34, 34, 0.9);
    font-size: 1.5em;
    font-weight: bold;
    line-height: 134%;
}

h1 + h2 {
padding: 32px 0 0;
}

.row {
position: relative;
width: 100%;
    min-height: 24px;
margin: 26px 0 0;
padding: 0;
    font-weight: 300;
    font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
}

.row img:not(.icon) {
display: block;
    max-width: 800px;
height: auto;
margin: 0 4px;
}

.row > .icon {
position: absolute;
top: 50%;
left: -40px;
display: block;
width: 32px;
height: 32px;
margin: -16px 0 0;
padding: 0;
}

.row .text {
padding: 0 4px;
color: rgba(34, 34, 34, 0.9);
    font-size: 1em;
    line-height: 150%;
    box-sizing: border-box;
}

.row.by-date {
margin: -12px 0 0;
}

div.row.with-border + div.row.by-date {
margin: 0px 0 0;
}

.row.by-date > .text {
display: inline-block;
margin: 0;
color: rgba(34, 34, 34, 0.5);
    font-size: 0.875em;
    font-weight: 300;
    line-height: 24px;
    font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
}

.row.by-date > .text.dateAndAuthor {
    float: right;
}

.row.by-date > .text.page {
    float: left;
}

.row span {
position: relative;
display: inline;
padding: 3px 0;
}

.row span.highlight {
padding: 3px 4px;
    box-decoration-break: clone;
    -webkit-box-decoration-break:clone;
}

span.highlight {
    background-color: rgb(252, 245, 164);
}

span.underline {
    text-decoration-line: underline;
    text-decoration-color: rgb(222, 24, 31);
}

span.strikethrough {
    text-decoration-line: line-through;
    text-decoration-color: rgb(222, 24, 31);
}


span._5587afda86f95f96 {
color: rgba(33, 33, 33, 1.00);font-family: .AppleSystemUIFont; font-style: normal; font-weight: normal; font-size: 16pt; 
}

span._d552fbbd6a26fba {
background-color: rgba(255, 247, 106, 1.00);color: rgba(57, 64, 68, 1.00);font-family: Merriweather; font-style: normal; font-weight: bold; font-size: 9.602678772000003pt; 
}

span._dd18825efa600325 {
background-color: rgba(255, 247, 106, 1.00);color: rgba(57, 64, 68, 1.00);font-family: DejaVu Sans; font-style: normal; font-weight: normal; font-size: 8.402343925500002pt; 
}

span._a6d2d6e4cc06348d {
background-color: rgba(255, 247, 106, 1.00);
}

span._7759b15189b5e1cc {
color: rgba(57, 64, 68, 1.00);font-family: Merriweather; font-style: normal; font-weight: normal; font-size: 9.602678772000003pt; 
}

span._7f9c44594221f326 {
background-color: rgba(255, 247, 106, 1.00);color: rgba(57, 64, 68, 1.00);font-family: DejaVu Sans; font-style: normal; font-weight: normal; font-size: 9.002511348750003pt; 
}

span._f63fe1a8a73363fb {
background-color: rgba(255, 247, 106, 1.00);color: rgba(57, 64, 68, 1.00);font-family: Merriweather; font-style: normal; font-weight: normal; font-size: 9.602678772000003pt; 
}

span._a80bccd4e36ea095 {
background-color: rgba(255, 247, 106, 1.00);color: rgba(58, 27, 73, 1.00);font-family: Merriweather; font-style: normal; font-weight: normal; font-size: 9.602678772000003pt; text-decoration-line: underline;
}

span._bc58d0099348bf91 {
color: rgba(33, 33, 33, 1.00);font-family: .AppleSystemUIFont; font-style: italic; font-weight: normal; font-size: 16pt; 
}

</style></head><body>
<div class="content">
<h1>2020-11-29T14:11:29+05:30</h1>

<h2>Undeleting a file overwritten with mv - Failed attempts</h2>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">Since I didn&rsquo;t manage to re-mount the root partition as read-only to avoid further damage softly, I used the </span><span class="highlight underline _a80bccd4e36ea095">big</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight underline _a80bccd4e36ea095">hammer</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight _f63fe1a8a73363fb">to remount everything read-only immediately:</span><span class="highlight _a6d2d6e4cc06348d">

</span><span class="highlight _7f9c44594221f326"># echo u &gt; /proc/sysrq-trigger</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 2</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="_7759b15189b5e1cc">This meant </span><span class="highlight _f63fe1a8a73363fb">I </span><span class="highlight _d552fbbd6a26fba">knew </span><span class="highlight _f63fe1a8a73363fb">the inode number of the deleted file! As I mentioned before, my understanding of file systems was (and is) rather naive, and I was pretty optimistic to be able to recover the file using that information. Isn&rsquo;t that sort of what a journaling file</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 2</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">system is for?</span><span class="highlight _a6d2d6e4cc06348d">

</span><span class="highlight _f63fe1a8a73363fb">Recovering the file this way hover appeared to be impossible. </span><span class="highlight underline _a80bccd4e36ea095">ext4magic</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight _f63fe1a8a73363fb">and </span><span class="highlight underline _a80bccd4e36ea095">extundelete</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight _f63fe1a8a73363fb">are powerful tools that did find some deleted files on my disk &ndash; but not the one I was looking for, even after trying different options for over two hours</span><span class="">…</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 3</p><p class="text dateAndAuthor"></p>
</div>

<h2>Undeleting a file overwritten with mv - Successful recovery</h2>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">There is this one other approach to file recovery that is often recommended on the internet, usually for &ldquo;small text files&rdquo;: Just </span><span class="highlight _dd18825efa600325">grep </span><span class="highlight _f63fe1a8a73363fb">your whole disk for known parts of its contents! So why wouldn&rsquo;t this work on larger non-text files as well?</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 3</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="_7759b15189b5e1cc">Luckily, </span><span class="highlight underline _a80bccd4e36ea095">all</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight underline _a80bccd4e36ea095">FLV</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight underline _a80bccd4e36ea095">files</span><span class="highlight _f63fe1a8a73363fb"> </span><span class="highlight underline _a80bccd4e36ea095">that</span><span class="highlight _f63fe1a8a73363fb"> contain video start with the byte sequence </span><span class="highlight _dd18825efa600325">FLV\x01\x05 </span><span class="highlight _f63fe1a8a73363fb">. So let&rsquo;s search our 2 TB disk for that byte sequence and print out the byte offset of all occurences!</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 3</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">This took roughly 7 hours.</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 3</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">In total, the search found 126 FLV file headers on our disk. This was pretty reassuring, since we had 122 FLV files still known to the file system &ndash; so there are at least four FLV byte sequences without a filename!</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 4</p><p class="text dateAndAuthor"></p>
</div>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">Now, all that was left to do was writing out the byte sequences of (at least) 1.6 GB starting at the five possible byte offsets. Just to be safe, I exported 1.8 GB of each:</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 7</p><p class="text dateAndAuthor"></p>
</div>

<h2>Undeleting a file overwritten with mv - Share this post</h2>

<div class="row ">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAACEpcRO4IAAAHeSURBVHgB7JZLSwJRFMf9On0Dh7RAqexh6C57k4k1Rpseu6JWvRc9qD5Gi8pFtpAWLmqTq1qVBWJRYJgl9Dj5JzrDaMHoVE7THbgw995zuP//75zLjMUiHkFAEBAEBAFBQBAQBAQBQUAQEAQ0ErhJylXXl4Ht1IU/k0r0UUVHXgO0QJNG+frCcNBVwn+XvQ3S64NM9FjZAQ3QAk2/AgG0cWCljReeD03Qpq+8GrLR9kaofCEAaII2DRb0heC+Fx5ulDm06XOnIVsA+IYOOIn3ktVqVQ2s6e2kP9MB8zNulXnAwNq/AJBLD5LTWV0EAGvY0wPhT3TAzlYbm7fZJLLbJZ5jz/QAgoE6Njw24qLxURfPsWdqAOenfjaLe7+366NI2KdaQ0y5EAx/BZaXWtmsw/F+53PpAcL7x1cBMaYE8JSRydVgY6NTE01sdHqymdcRg9hyIBi6AyLhdjaJaseiXWwyFu1U7SHWdACGh+rZJKr8fK988vDe6LLzPmJNBSB51k+SpPz5LcwW//Qszik/R4hFTqkQDHsFNtc8XF20//Fhd5G5+FGPKgY5pgDwkpXJ3VLD5rye2ryx0CfmQuT1KHHIQW4pEAzZAQf7HWwe1V9f+bqyG6vqTkHuTwN4AwAA//9tM2p4AAAB9ElEQVTtmL1KA0EUhfM6vkF0CS5rI2qjorExxIRgSEqxECwEEXwIC8FCRBALH8FKKwXFQouoSKJGFEnSOeYUd525EHZmhd0JTGCZHXJ/zvky3GSTyRi+mo2SEL2a9rW+Nimy2Wx43d+sDMx9uC2FcchBrkkvaDO0Yx5uAuDtuSI8b1QxJcOIukcuauhCsA7A/t58bPMEBzWGFEBdzM2O/xsAaoheXQuCVSfg4nxZMV8sBFom8Gkjlk4AVtTSOQVWAdjcmFJMnB7ntUzAKGJlAKg1VAA+W6sil/sbfkHgie5HVcsEjCIWOQQBtVAzCoI1J+DwYCEUDxO7OzOR4rk55BAArKjJY/jeGgBLeV8Rf3c9+Lufm6A9cmQAqEnvDVqtAHB1WVCEmww/bowPQ9TmMfLeCgDbW9MKAJPhJ5vBPR+GqM1j5H3qADrtqvD9sRCA6fCTzeCeD0PURg8eR/vUAZwcLYbm4w4/MkMrH4boQe/xNXUAxcKEAiDO8OOm+DBEDx5D+9QBkJC0Vgcgkcfhx/L3T1f//4CkTgM0NfvazB/wDTNenypnnXb0z9KkjFMfaII2Qzvm4e8vtZFWo/yFhjacBGiAFmiCNnNHMTLQCLRx5DB4Ur36GqAlMfMxeLkUR8ARcAQcAUfAEXAEHAFHwBGwj8Av2kZJK4wN7lsAAAAASUVORK5CYII=" alt="" />

<p class="text" style="">
<span class="highlight _f63fe1a8a73363fb">I then downloaded the five files, and indeed, the one with the highest position on disk contained the video file I accidentally deleted. Except some very minor corruption of less than a second somewhere in the video, the video was fully recovered. Phew.</span>
</p>

</div>

<div class="row with-border">
<img class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAlNz6EQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAABxpRE9UAAAAAgAAAAAAAAAgAAAAKAAAACAAAAAgAAABXVpfNEAAAAEpSURBVHgB7JI7CgJRDEXdkP1UbkA7tRJLG3fnB5zGQgQ3Ig422toISgrhMIgZiRjBKzwMZsw9OW9aLX1kQAZkQAZkQAZkQAZkQAZkQAZkQAZkoIGB3WbUXpfDWbkYHFbz/jnzGIOxGFMD9PgjFlQu+/vMpZ9lG9NXJJjtZwC/8Juxxa/YmcDX/lRNjrfLtMo8xvCQb2wOfrz9CLPvzMWZTab4hs4EhhEisyaTgx9vMyxzaWaTKb6hM4FhhMisyeTgx9sMy1ya2WSKb+hMYBghMmsyOfjxNsMyl2Y2meIbOhMYRojMmkwOfrzNsFdLb9fjU6/budqxuv5stM95ZIpv6ExgGCHqtS1eFMXNjtWf7nMemRz8eJthhKjXfy8g+op7/6dwXsq7V3wHAAD//5+SnY0AAAGLSURBVO1VwUoCURR1Fe37iFb9RL8wbzAzDAI3fYV/0jfkKM1oElMYmZsiZqOQQTSZNbWKVlGexY2LILybYs+4A5f3fO/cd885M++aywmfo6r3SvH1sZ+6EMQHo1COHM6LuSAeHDgnuSJhBi+mBugV0B6gTdCFPsD7krClyeG8mAviF/4vEAbmgUzI0vLwr00AB+IDbvJXKsxohf4hFbQdw5qXIS7iwsvn+/TGiT1gCG97PuHATShHDj+PixtjgvdUVDpeXRafp3012JOeR3hwAje5ol9koBDc5teBiNiM/WR3NGlC76Y0ssmdxIADuCxMvK1fg0FllcdJI3/Ayae3e09kAuZ8D1iei7ltXWdxSVJZOQ79JgmNaiZ7eywPEZjTOjDAOitkFmKdTmmtWTfXJHb86WYI+o09YGap4Xxut7uz3qibOxJNI9aw57yAeRBsx4XNsOr93HvMsTaPs5fmjPbp9lYUeL0oMP2zVt5fGuJKVB1QB9QBdUAdUAfUAXVAHVAH1AF14B848A2N18fFG4sIXQAAAABJRU5ErkJggg==" alt="" />

<p class="text" style="background-color: rgba(255, 252, 210, 1.00); border: 1px solid rgba(34, 34, 34, 0.10); box-sizing: border-box; display: inline-block; margin: -12px 8px 0;padding: 8px 12px;border-radius: 4px; ">
<span class="_5587afda86f95f96">This sounds interesting. Why were the file </span><span class="_bc58d0099348bf91">contents</span><span class="_5587afda86f95f96"> corrupted?</span>
</p>

</div>

<div class="row by-date">
<p class="text page">Page 7</p><p class="text dateAndAuthor"></p>
</div>

</div>
</body></html>